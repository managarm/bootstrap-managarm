imports:
  - file: bootstrap.d/app-accessibility.y4.yml
  - file: bootstrap.d/app-admin.y4.yml
  - file: bootstrap.d/app-arch.y4.yml
  - file: bootstrap.d/app-crypt.y4.yml
  - file: bootstrap.d/app-editors.y4.yml
  - file: bootstrap.d/app-emulation.y4.yml
  - file: bootstrap.d/app-misc.y4.yml
  - file: bootstrap.d/app-shells.y4.yml
  - file: bootstrap.d/app-text.y4.yml
  - file: bootstrap.d/dev-db.y4.yml
  - file: bootstrap.d/dev-lang.y4.yml
  - file: bootstrap.d/dev-libs.y4.yml
  - file: bootstrap.d/dev-python.y4.yml
  - file: bootstrap.d/dev-util.y4.yml
  - file: bootstrap.d/dev-qt.y4.yml
  - file: bootstrap.d/games-board.y4.yml
  - file: bootstrap.d/games-emulation.y4.yml
  - file: bootstrap.d/games-fps.y4.yml
  - file: bootstrap.d/games-misc.y4.yml
  - file: bootstrap.d/games-simulation.y4.yml
  - file: bootstrap.d/gnome-base.y4.yml
  - file: bootstrap.d/gnome-extra.y4.yml
  - file: bootstrap.d/gui-apps.y4.yml
  - file: bootstrap.d/gui-libs.y4.yml
  - file: bootstrap.d/gui-wm.y4.yml
  - file: bootstrap.d/kde-apps.y4.yml
  - file: bootstrap.d/kde-frameworks.y4.yml
  - file: bootstrap.d/kde-plasma.y4.yml
  - file: bootstrap.d/lxqt-base.y4.yml
  - file: bootstrap.d/managarm-base.y4.yml
  - file: bootstrap.d/managarm-build.y4.yml
  - file: bootstrap.d/managarm-libc.y4.yml
  - file: bootstrap.d/managarm-libs.y4.yml
  - file: bootstrap.d/managarm-system.y4.yml
  - file: bootstrap.d/managarm-tools.y4.yml
  - file: bootstrap.d/media-fonts.y4.yml
  - file: bootstrap.d/media-gfx.y4.yml
  - file: bootstrap.d/media-libs.y4.yml
  - file: bootstrap.d/meta-pkgs.y4.yml
  - file: bootstrap.d/net-dns.y4.yml
  - file: bootstrap.d/net-irc.y4.yml
  - file: bootstrap.d/net-libs.y4.yml
  - file: bootstrap.d/net-misc.y4.yml
  - file: bootstrap.d/net-print.y4.yml
  - file: bootstrap.d/net-wireless.y4.yml
  - file: bootstrap.d/sys-apps.y4.yml
  - file: bootstrap.d/sys-auth.y4.yml
  - file: bootstrap.d/sys-boot.y4.yml
  - file: bootstrap.d/sys-devel.y4.yml
  - file: bootstrap.d/sys-firmware.y4.yml
  - file: bootstrap.d/sys-kernel.y4.yml
  - file: bootstrap.d/sys-libs.y4.yml
  - file: bootstrap.d/sys-process.y4.yml
  - file: bootstrap.d/tasks.y4.yml
  - file: bootstrap.d/www-client.y4.yml
  - file: bootstrap.d/x11-apps.y4.yml
  - file: bootstrap.d/x11-base.y4.yml
  - file: bootstrap.d/x11-libs.y4.yml
  - file: bootstrap.d/x11-misc.y4.yml
  - file: bootstrap.d/x11-terms.y4.yml
  - file: bootstrap.d/x11-themes.y4.yml

general:
    patch_author: The Managarm Project
    patch_email: info@managarm.org
    everything_by_default: false
    mandate_hashes_for_archives: true
    enable_network_isolation: true
    cargo:
        config_toml: 'extrafiles/config.toml'

# Note: There are both "latest" and "rolling" repos for tools and packages.
#       "latest" repos refer to the last entirely successful build on xbbs.
#       "rolling" repos are updated by all (not necessary successful) builds. They are also reset
#       on non-incremental builds on xbbs.
#       We prefer "latest" repos here as we can expect that they are more stable.
repositories:
    tool_archives:
        x86_64: 'https://builds.managarm.org/repos/tools/managarm/latest'
        aarch64: 'https://builds.managarm.org/repos/tools/managarm_aarch64/latest'
        riscv64: 'https://builds.managarm.org/repos/tools/managarm_riscv/latest'
    xbps:
        x86_64: 'https://repos.managarm.org/repos/amd64/'
        aarch64: 'https://builds.managarm.org/repos/packages/managarm_aarch64/latest/'
        riscv64: 'https://builds.managarm.org/repos/packages/managarm_riscv/latest/'

# TODO: We currently don't support computed options or anything of that sort,
#       so we just define the architecture, and the triple as 2 options
#       (some packages, like llvm and libjpeg-turbo need the architecture)
declare_options:
  - name: arch
    default: x86_64
  - name: arch-triple
    default: x86_64-managarm
  - name: mount-using
    default: guestfs
  - name: image-size
    default: 4G
  - name: rust-arch
    default: x86_64
