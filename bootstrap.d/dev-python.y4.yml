sources:
  - name: flit_core
    subdir: 'ports'
    git: 'https://github.com/pypa/flit.git'
    tag: '3.12.0'
    version: '3.12.0'

  - name: hatchling
    subdir: 'ports'
    git: 'https://github.com/pypa/hatch.git'
    tag: 'hatchling-v1.27.0'
    version: '1.27.0'

  - name: hatch-fancy-pypi-readme
    subdir: 'ports'
    git: 'https://github.com/hynek/hatch-fancy-pypi-readme.git'
    tag: '25.1.0'
    version: '25.1.0'

  - name: hatch-vcs
    subdir: 'ports'
    git: 'https://github.com/ofek/hatch-vcs.git'
    tag: 'v0.5.0'
    version: '0.5.0'

  - name: maturin
    subdir: 'ports'
    git: 'https://github.com/PyO3/maturin.git'
    tag: 'v1.9.6'
    version: '1.9.6'

  - name: pdm
    subdir: 'ports'
    git: 'https://github.com/pdm-project/pdm.git'
    tag: '2.25.9'
    version: '2.25.9'

  - name: pdm-backend
    subdir: 'ports'
    git: 'https://github.com/pdm-project/pdm-backend.git'
    tag: '2.4.5'
    version: '2.4.5'

  - name: setuptools
    subdir: 'ports'
    git: 'https://github.com/pypa/setuptools.git'
    tag: 'v80.9.0'
    version: '80.9.0'

tools:
  - name: host-bragi
    labels: [aarch64, riscv64]
    architecture: noarch
    from_source: bragi
    tools_required:
      - tool: host-python
        recursive: true
    revision: 1
    install:
      - args: ['python3', '-m', 'venv', '.']
        workdir: '@PREFIX@'
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@']
        workdir: '@PREFIX@'
        isolate_network: false

  - name: host-gpep517
    labels: [aarch64, riscv64]
    architecture: noarch
    source:
      subdir: 'ports'
      git: 'https://github.com/gentoo/gpep517.git'
      tag: 'v19'
      version: '19'
    sources_required:
      - flit_core
      - hatchling
      - hatch-fancy-pypi-readme
      - hatch-vcs
      - maturin
      - pdm
      - pdm-backend
      - setuptools
    tools_required:
      - tool: host-python
        recursive: true
      - host-cargo
    revision: 4
    install:
      - args: ['python3', '-m', 'venv', '.']
        workdir: '@PREFIX@'
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@']
        workdir: '@PREFIX@'
        isolate_network: false
      # We need to install setuptools into the same venv, because build systems can use it
      # Note that other build systems might need more dependencies installed in the venv for gpep517 to work with them
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../setuptools']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../flit_core']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../hatchling']
        workdir: '@PREFIX@'
        isolate_network: false
      # Yes these plugins are needed, yes I think that's annoying too
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../hatch-fancy-pypi-readme']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../hatch-vcs']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../pdm']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../pdm-backend']
        workdir: '@PREFIX@'
        isolate_network: false
      - args: ['@SOURCE_ROOT@/scripts/cargo-inject-patches.py', '@THIS_SOURCE_DIR@/../maturin/Cargo.toml']
      - args: ['bin/pip', 'install', '@THIS_SOURCE_DIR@/../maturin']
        workdir: '@PREFIX@'
        isolate_network: false
        environ:
          CARGO_BUILD_TARGET: 'x86_64-unknown-linux-gnu'
          MATURIN_NO_INSTALL_RUST: '1'

packages:
  - name: python-arrow
    architecture: '@OPTION:arch@'
    metadata:
      summary: Better dates and times for Python
      description: Better dates and times for Python
      spdx: 'Apache-2.0'
      website: 'https://pypi.org/project/arrow/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/arrow-py/arrow.git'
      tag: '1.3.0'
      version: '1.3.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-dateutil
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-attrs
    architecture: '@OPTION:arch@'
    metadata:
      summary: Attributes without boilerplate
      description: Python Classes Without Boilerplate
      spdx: 'MIT'
      website: 'https://attrs.readthedocs.io/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/python-attrs/attrs.git'
      tag: '25.4.0'
      version: '25.4.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-zope-interface
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-colorama
    architecture: '@OPTION:arch@'
    metadata:
      summary: ANSI escape character sequences for colored terminal text & cursor positioning
      description: ANSI escape character sequences for colored terminal text & cursor positioning
      spdx: 'BSD-3-Clause'
      website: 'https://pypi.org/project/colorama/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/tartley/colorama.git'
      tag: '0.4.6'
      version: '0.4.6'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-dateutil
    architecture: '@OPTION:arch@'
    metadata:
      summary: Extensions to the standard Python datetime module
      description: Extensions to the standard Python datetime module
      spdx: 'BSD-3-Clause'
      website: 'https://pypi.org/project/python-dateutil/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/dateutil/dateutil.git'
      tag: '2.9.0'
      version: '2.9.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - tzdata
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-fqdn
    architecture: '@OPTION:arch@'
    metadata:
      summary: RFC-compliant FQDN validation and manipulation for Python
      description: RFC-compliant FQDN validation and manipulation for Python
      spdx: 'MPL-2.0'
      website: 'https://pypi.org/project/fqdn/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/ypcrts/fqdn.git'
      tag: 'v1.5.1'
      version: '1.5.1'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-idna
    architecture: '@OPTION:arch@'
    metadata:
      summary: Internationalized Domain Names in Applications (IDNA)
      description: Internationalized Domain Names in Applications (IDNA)
      spdx: 'BSD-3-Clause'
      website: 'https://pypi.org/project/idna/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/kjd/idna.git'
      tag: 'v3.10'
      version: '3.10'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-isoduration
    architecture: '@OPTION:arch@'
    metadata:
      summary: Operations with ISO 8601 durations
      description: Operations with ISO 8601 durations
      spdx: 'ISC'
      website: 'https://pypi.org/project/isoduration/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/bolsote/isoduration.git'
      tag: '20.11.0'
      version: '20.11.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-arrow
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-jsonpointer
    architecture: '@OPTION:arch@'
    metadata:
      summary: Identify specific nodes in a JSON document (according to draft 08)
      description: Identify specific nodes in a JSON document (according to draft 08)
      spdx: 'BSD-3-Clause'
      website: 'https://pypi.org/project/jsonpointer/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/stefankoegl/python-json-pointer.git'
      tag: 'v3.0.0'
      version: '3.0.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-jsonschema-specifications
    architecture: '@OPTION:arch@'
    metadata:
      summary: The JSON Schema meta-schemas and vocabularies, exposed as a Registry
      description: The JSON Schema meta-schemas and vocabularies, exposed as a Registry
      spdx: 'MIT'
      website: 'https://pypi.org/project/jsonschema-specifications/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/python-jsonschema/jsonschema-specifications.git'
      tag: 'v2025.9.1'
      version: '2025.9.1'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-referencing
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-packaging
    architecture: '@OPTION:arch@'
    metadata:
      summary: Core utilities for Python packages
      description: Core utilities for Python packages
      spdx: 'Apache-2.0'
      website: 'https://packaging.pypa.io/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/pypa/packaging.git'
      tag: '25.0'
      version: '25.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-pyrsistent
    architecture: '@OPTION:arch@'
    metadata:
      summary: Persistent/Functional/Immutable data structures
      description: Persistent/Functional/Immutable data structures
      spdx: 'MIT'
      website: 'https://github.com/tobgu/pyrsistent/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/tobgu/pyrsistent.git'
      branch: 'master'
      # Last release is old, use master
      commit: 'bea5785745df84a71f144fdc1a611ebdce81d826'
      version: '0.20.0git'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']
        environ:
          CC: '@OPTION:arch-triple@-gcc'

  - name: python-referencing
    architecture: '@OPTION:arch@'
    metadata:
      summary: Cross-specification JSON referencing (JSON Schema, OpenAPI...)
      description: Cross-specification JSON referencing (JSON Schema, OpenAPI...)
      spdx: 'MIT'
      website: 'https://referencing.readthedocs.io/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/python-jsonschema/referencing.git'
      tag: 'v0.36.2'
      version: '0.36.2'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-rpds-py
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-rfc3339-validator
    architecture: '@OPTION:arch@'
    metadata:
      summary: A pure python RFC3339 validator
      description: A pure python RFC3339 validator
      spdx: 'MIT'
      website: 'https://github.com/naimetti/rfc3339-validator'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/naimetti/rfc3339-validator.git'
      tag: 'v0.1.4'
      version: '0.1.4'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-strict-rfc3339
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-rfc3986-validator
    architecture: '@OPTION:arch@'
    metadata:
      summary: Pure python RFC3986 validator
      description: Pure python RFC3986 validator
      spdx: 'MIT'
      website: 'https://pypi.org/project/rfc3986-validator/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/naimetti/rfc3986-validator.git'
      # Only release is old, use latest master
      branch: 'master'
      commit: '85e4bd52cc08b99216fac0196a9588ef3c6c52f9'
      version: '0.1.1'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-rfc3987
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-rfc3987
    architecture: '@OPTION:arch@'
    metadata:
      summary: Parsing and validation of URIs (RFC 3986) and IRIs (RFC 3987)
      description: Parsing and validation of URIs (RFC 3986) and IRIs (RFC 3987)
      spdx: 'GPL-3.0-only'
      website: 'https://github.com/dgerber/rfc3987/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/dgerber/rfc3987.git'
      tag: 'v1.3.8'
      version: '1.3.8'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
      - python-regex
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-regex
    architecture: '@OPTION:arch@'
    metadata:
      summary: Alternative regular expression module to replace re
      description: Alternative regular expression module to replace re
      spdx: 'Apache-2.0'
      website: 'https://bitbucket.org/mrabarnett/mrab-regex'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://bitbucket.org/mrabarnett/mrab-regex.git'
      branch: 'hg'
      commit: 'bf5e239c0ed893330984d91f793dafed1d0ac9c5'
      # No releases unfortunately, grab latest master
      version: '2022.04.13.managarm'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']
        environ:
          CC: '@OPTION:arch-triple@-gcc'

  - name: python-rpds-py
    architecture: '@OPTION:arch@'
    metadata:
      summary: Python bindings to Rust's persistent data structures (rpds)
      description: Python bindings to Rust's persistent data structures (rpds)
      spdx: 'Apache-2.0'
      website: 'https://github.com/crate-py/rpds/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/crate-py/rpds.git'
      tag: 'v0.27.1'
      version: '0.27.1'
    sources_required:
      - rust-patched-libs
    tools_required:
      - host-gpep517
      - system-gcc
      - host-cargo
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      - args: ['@SOURCE_ROOT@/scripts/cargo-inject-patches.py', '@THIS_SOURCE_DIR@/Cargo.toml']
        isolate_network: false
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']
        isolate_network: false
        environ:
          PYO3_CROSS_PYTHON_VERSION: '3.14'
          PYO3_PYTHON: 'python3.14'
          CC: '@OPTION:arch-triple@-gcc'
          CARGO_BUILD_TARGET: '@OPTION:rust-arch@-unknown-managarm-mlibc'
          PYO3_CROSS_LIB_DIR: '@SYSROOT_DIR@/usr/lib'
          PYO3_CROSS_INCLUDE_DIR: '@SYSROOT_DIR@/usr/include'

  - name: python-strict-rfc3339
    architecture: '@OPTION:arch@'
    metadata:
      summary: Strict, simple, lightweight RFC3339 functions
      description: Strict, simple, lightweight RFC3339 functions
      spdx: 'GPL-3.0-or-later'
      website: 'https://pypi.org/project/strict-rfc3339/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/danielrichman/strict-rfc3339.git'
      tag: 'version-0.7'
      version: '0.7'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-typing-extensions
    architecture: '@OPTION:arch@'
    metadata:
      summary: Backported and Experimental Type Hints for Python 3.7+
      description: Backported and Experimental Type Hints for Python 3.7+
      spdx: 'PSF-2'
      website: 'https://github.com/tobgu/pyrsistent/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/python/typing_extensions.git'
      tag: '4.15.0'
      version: '4.15.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-uri-template
    architecture: '@OPTION:arch@'
    metadata:
      summary: URI Template expansion in strict adherence to RFC 6570
      description: URI Template expansion in strict adherence to RFC 6570
      spdx: 'MIT'
      website: 'https://pypi.org/project/uri-template/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://gitlab.linss.com/open-source/uri_template.git'
      tag: 'v1.3.0'
      version: '1.3.0'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-webcolors
    architecture: '@OPTION:arch@'
    metadata:
      summary: Color names and value formats defined by the HTML and CSS specifications
      description: Color names and value formats defined by the HTML and CSS specifications
      spdx: 'BSD-3-Clause'
      website: 'https://pypi.org/project/webcolors/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/ubernostrum/webcolors.git'
      tag: '24.11.1'
      version: '24.11.1'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']

  - name: python-zope-interface
    architecture: '@OPTION:arch@'
    metadata:
      summary: Interfaces for Python
      description: Interfaces for Python
      spdx: 'ZPL'
      website: 'https://github.com/zopefoundation/zope.interface/'
      maintainer: "Dennis Bonke <dennis@managarm.org>"
      categories: ['dev-python']
    source:
      subdir: 'ports'
      git: 'https://github.com/zopefoundation/zope.interface.git'
      tag: '8.0.1'
      version: '8.0.1'
    tools_required:
      - host-gpep517
      - system-gcc
    pkgs_required:
      - mlibc
      - python
    revision: 1
    configure:
      # python modules do not seem to support out-of-tree builds, so we just copy
      # the source tree into the build directory instead.
      - args: ['cp', '-r', '@THIS_SOURCE_DIR@/.', '@THIS_BUILD_DIR@']
    build:
      - args: ['python3', '-m', 'gpep517', 'install-from-source', '--destdir', '@THIS_COLLECT_DIR@', '--optimize', 'all', '--prefix', '/usr', '--sysroot', '@SYSROOT_DIR@', '--interpreter', '/usr/bin/env python3']
        environ:
          CC: '@OPTION:arch-triple@-gcc'
